<!DOCTYPE html>
<html>
<!--

Copyright (c) 2010 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.

-->
  <head>
    <title>Google Talk</title>
    <!-- Set height to 98% to get around bug in css calculation that triggers
         a vertical scroll bar. -->
    <style>
      iframe {
        border: 0px;
        margin: 0px;
        padding: 0px;
        width: 100%;
        height: 98%;
      }
    </style>
    <script>
      function reparentCentralRosterToWindow() {
        var backgroundWindow = chrome.extension.getBackgroundPage();
        if (backgroundWindow) {
          var backgroundDocument = backgroundWindow.document;
          if (backgroundDocument) {
            var iframe = backgroundDocument.getElementById('centralRoster');
            if (iframe) {
              if (document) {
                if (document.adoptNode) {
                  document.adoptNode(iframe);
                }
                document.body.appendChild(iframe);
              }
            }
          }
        }
      }
      function reparentCentralRosterToBackground(event) {
        if (document) {
          var iframe = document.getElementById('centralRoster');
          if (iframe) {
            var backgroundWindow = chrome.extension.getBackgroundPage();
            if (backgroundWindow) {
              var backgroundDocument = backgroundWindow.document;
              if (backgroundDocument) {
                if (backgroundDocument.adoptNode) {
                  backgroundDocument.adoptNode(iframe);
                }
                backgroundDocument.body.appendChild(iframe);
              }
            }
          }
        }
      }
    </script>
  </head>
  <body topmargin='0' leftmargin='0'
        onload='reparentCentralRosterToWindow();'
        onbeforeunload='reparentCentralRosterToBackground(event);'>
    <!-- Place for central roster -->
  </body>
</html>
